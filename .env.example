# ============================================
# 기본 설정
# ============================================
APP_ENV=production
DEBUG=false
SECRET_KEY=your-secret-key-here-min-32-bytes
API_VERSION=v1

# ============================================
# 인증
# ============================================
AUTH_PASSWORD_HASH=$2b$12$...  # bcrypt 해시
JWT_SECRET=your-jwt-secret-here-min-32-bytes
JWT_ACCESS_EXPIRE_MINUTES=60
JWT_REFRESH_EXPIRE_DAYS=7

# ============================================
# 데이터베이스
# ============================================
DATABASE_URL=postgresql://maxmeeting:password@postgres:5432/maxmeeting
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# ============================================
# Redis (인증 추가)
# ============================================
REDIS_URL=redis://:your-redis-password@redis:6379/0
REDIS_PASSWORD=your-redis-password

# ============================================
# Celery
# ============================================
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@redis:6379/0
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@redis:6379/0
CELERY_TASK_TIME_LIMIT=7200
CELERY_TASK_SOFT_TIME_LIMIT=6900
CELERY_WORKER_CONCURRENCY=1
CELERY_TASK_ACKS_LATE=true

# ============================================
# 파일 저장 + 암호화
# ============================================
STORAGE_BACKEND=local
STORAGE_PATH=/data/max-meeting
RECORDINGS_PATH=/data/max-meeting/recordings
MAX_UPLOAD_SIZE_MB=500
STORAGE_ENCRYPTION_KEY=your-fernet-key-here

# ============================================
# STT
# ============================================
WHISPER_MODEL=medium
WHISPER_DEVICE=cpu
STT_CHUNK_MINUTES=10
STT_MAX_PARALLEL=4
HUGGINGFACE_TOKEN=hf_xxx  # Required for pyannote speaker diarization

# ============================================
# LLM
# ============================================
LLM_PROVIDER=gemini
GEMINI_API_KEY=your-gemini-api-key
OPENAI_API_KEY=your-openai-api-key
LLM_MAX_TOKENS_PER_REQUEST=100000

# ============================================
# 모니터링
# ============================================
SENTRY_DSN=https://xxx@sentry.io/xxx
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================
# 백업
# ============================================
BACKUP_ENABLED=true
BACKUP_HOST=192.168.35.249
BACKUP_USER=sean
BACKUP_PATH=/backup/max-meeting
BACKUP_INTERVAL_HOURS=1
BACKUP_GPG_RECIPIENT=your-gpg-key-id

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_LOGIN=5/minute
RATE_LIMIT_UPLOAD=10/hour
RATE_LIMIT_LLM=30/hour
RATE_LIMIT_DEFAULT=200/minute

# ============================================
# 보안
# ============================================
CORS_ORIGINS=["https://meeting.etlab.kr"]
ALLOWED_HOSTS=["meeting.etlab.kr"]

# ============================================
# PII 암호화 키
# ============================================
PII_ENCRYPTION_KEY=your-pii-encryption-key
