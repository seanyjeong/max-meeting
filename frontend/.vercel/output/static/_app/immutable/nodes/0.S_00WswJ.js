const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/VgTo3XoD.js","../chunks/dEE0t6TH.js"])))=>i.map(i=>d[i]);
import{b as ct,_ as dt}from"../chunks/CQIO9Ee8.js";import"../chunks/CWj6FrbW.js";import{i as ft}from"../chunks/SOPJwHBT.js";import{i as We,p as Le,l as U,u as Oe,aD as Ue,g as e,o as ut,s as l,C as xe,x as mt,aE as pt,e as A,a as r,b as Pe,d as s,c as i,n as _t,r as a,f as n,w as ke,t as V,h as C,q as Ve,A as Je,B as ht,j as gt,$ as bt,D as Y,m as Qe}from"../chunks/dEE0t6TH.js";import{i as f}from"../chunks/C3dn6ghA.js";import{s as xt}from"../chunks/CioO7OKF.js";import{h as kt}from"../chunks/C-8mY6PU.js";import{P as yt,r as wt,b as Ge,a as F,s as $t}from"../chunks/VgTo3XoD.js";import{s as qe,a as we}from"../chunks/IoHDDGUh.js";import{g as le}from"../chunks/DzGFvkG0.js";import{p as Et}from"../chunks/cT6OB_cF.js";import{e as ye,i as Ie}from"../chunks/BIuLnvEe.js";import{b as St}from"../chunks/AN34arei.js";import{p as Xe}from"../chunks/DtOJ18OM.js";import{t as He}from"../chunks/DADtNw1e.js";import{T as Mt}from"../chunks/BNjbk8Ua.js";var Ct=n('<div class="loading-state svelte-fl6vff"><div class="spinner svelte-fl6vff"></div> <span>Searching...</span></div>'),At=n('<div class="empty-state svelte-fl6vff"><svg class="empty-icon svelte-fl6vff" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="svelte-fl6vff">No results found</p></div>'),Rt=n('<button class="result-item svelte-fl6vff"><svg class="result-icon clock svelte-fl6vff" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="result-text"> </span></button>'),zt=n('<div class="section svelte-fl6vff"><div class="section-header svelte-fl6vff">Recent Searches</div> <!></div>'),jt=n('<kbd class="enter-badge svelte-fl6vff">↵</kbd>'),Bt=n('<button><svg class="result-icon meeting svelte-fl6vff" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg> <div class="result-content svelte-fl6vff"><div class="result-title svelte-fl6vff"> </div> <div class="result-meta svelte-fl6vff"> <span> </span></div></div> <!></button>'),Dt=n('<div class="section svelte-fl6vff"><div class="section-header svelte-fl6vff">Meetings</div> <!></div>'),Tt=n("<!> ",1),Kt=n('<kbd class="enter-badge svelte-fl6vff">↵</kbd>'),It=n('<button><svg class="result-icon contact svelte-fl6vff" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> <div class="result-content svelte-fl6vff"><div class="result-title svelte-fl6vff"> </div> <div class="result-meta svelte-fl6vff"><!> <!></div></div> <!></button>'),Lt=n('<div class="section svelte-fl6vff"><div class="section-header svelte-fl6vff">Contacts</div> <!></div>'),Pt=n("<!> <!>",1),qt=n('<div class="hint-state svelte-fl6vff"><div class="hint-item svelte-fl6vff"><kbd class="kbd svelte-fl6vff">⌘K</kbd> <span>Quick search</span></div> <div class="hint-item svelte-fl6vff"><kbd class="kbd svelte-fl6vff">↑↓</kbd> <span>Navigate</span></div> <div class="hint-item svelte-fl6vff"><kbd class="kbd svelte-fl6vff">↵</kbd> <span>Select</span></div></div>'),Nt=n('<div class="fixed inset-0 z-[100] overflow-hidden" role="dialog" aria-modal="true" aria-labelledby="quickjump-title"><div class="fixed inset-0 bg-black/80 backdrop-blur-sm transition-opacity" role="button" tabindex="-1" aria-label="Close search dialog"></div> <div class="fixed inset-x-0 top-[10vh] mx-auto max-w-2xl px-4"><div class="quick-jump-panel svelte-fl6vff" role="search"><div class="search-header svelte-fl6vff"><svg class="search-icon svelte-fl6vff" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg> <input type="text" placeholder="Search meetings, contacts..." class="search-input svelte-fl6vff" autocomplete="off" spellcheck="false" aria-label="Quick search"/> <kbd class="kbd svelte-fl6vff">ESC</kbd></div> <div class="results-container svelte-fl6vff"><!></div></div></div></div>');function Ot(R,S){Le(S,!0);const u=()=>we(Ge,"$auth",m),[m,k]=qe(),z=yt;let d=U(!1),v=U(""),o=U(Oe({meetings:[],contacts:[],transcripts:[]})),p=U(0),j=U(!1),B=U(void 0),M=U(Oe([]));const ve="max-meeting-recent-searches",$e=3;Ue(()=>{e(d)&&e(B)&&e(B).focus()}),ut(()=>{const t=localStorage.getItem(ve);return t&&l(M,JSON.parse(t),!0),window.addEventListener("keydown",b),()=>{window.removeEventListener("keydown",b)}});function b(t){(t.metaKey||t.ctrlKey)&&t.key==="k"&&(t.preventDefault(),y())}function y(){l(d,!e(d)),e(d)||ce()}function ce(){l(v,""),l(o,{meetings:[],contacts:[]},!0),l(p,0),l(j,!1)}function Ee(t){const x=[...e(o).meetings||[],...e(o).contacts||[]],_=x.length;switch(t.key){case"Escape":t.preventDefault(),y();break;case"ArrowDown":t.preventDefault(),l(p,(e(p)+1)%_);break;case"ArrowUp":t.preventDefault(),l(p,(e(p)-1+_)%_);break;case"Enter":t.preventDefault(),_>0&&J(x[e(p)]);break}}async function Z(){if(!e(v).trim()){l(o,{meetings:[],contacts:[],transcripts:[]},!0);return}l(j,!0);try{const t=u().accessToken,x=await fetch(`${z}/search?q=${encodeURIComponent(e(v))}&limit=10`,{headers:{Authorization:`Bearer ${t}`}});if(x.ok){const _=await x.json();l(o,_.data,!0),l(p,0),e(M).includes(e(v))||(l(M,[e(v),...e(M).slice(0,$e-1)],!0),localStorage.setItem(ve,JSON.stringify(e(M))))}}catch(t){console.error("Search failed:",t)}finally{l(j,!1)}}function J(t){"title"in t?le(`/meetings/${t.id}`):"name"in t&&le(`/contacts/${t.id}`),y()}function Se(t){l(v,t,!0),Z()}function ee(t){t.target===t.currentTarget&&y()}let de;Ue(()=>{e(v)&&(clearTimeout(de),de=setTimeout(()=>{Z()},300))});const E=ke(()=>[...e(o).meetings||[],...e(o).contacts||[]]);var Q=xe();mt("keydown",pt,b);var fe=A(Q);{var ue=t=>{var x=Nt(),_=s(x);_.__click=ee,_.__keydown=h=>h.key==="Enter"&&ee(h);var te=i(_,2),me=s(te),X=s(me),D=i(s(X),2);wt(D),D.__keydown=Ee,ct(D,h=>l(B,h),()=>e(B)),_t(2),a(X);var pe=i(X,2),T=s(pe);{var ae=h=>{var _e=Ct();r(h,_e)},Ye=h=>{var _e=xe(),Fe=A(_e);{var Ze=H=>{var he=At();r(H,he)},et=H=>{var he=xe(),tt=A(he);{var at=W=>{var G=zt(),Me=i(s(G),2);ye(Me,17,()=>e(M),Ie,(Ce,ge)=>{var w=Rt();w.__click=()=>Se(e(ge));var K=i(s(w),2),be=s(K,!0);a(K),a(w),V(()=>C(be,e(ge))),r(Ce,w)}),a(G),r(W,G)},st=W=>{var G=xe(),Me=A(G);{var Ce=w=>{var K=Pt(),be=A(K);{var rt=I=>{var L=Dt(),Ae=i(s(L),2);ye(Ae,17,()=>e(o).meetings,Ie,(Re,g,ze)=>{const se=ke(()=>ze);var $=Bt();let re;$.__click=()=>J(e(g));var P=i(s($),2),q=s(P),je=s(q,!0);a(q);var ie=i(q,2),oe=s(ie),ne=i(oe),Be=s(ne,!0);a(ne),a(ie),a(P);var De=i(P,2);{var Te=N=>{var c=jt();r(N,c)};f(De,N=>{e(p)===e(se)&&N(Te)})}a($),V(N=>{re=F($,1,"result-item svelte-fl6vff",null,re,{selected:e(p)===e(se)}),C(je,e(g).title),C(oe,`${N??""} • `),F(ne,1,`status-badge status-${e(g).status??""}`,"svelte-fl6vff"),C(Be,e(g).status)},[()=>new Date(e(g).scheduled_at).toLocaleDateString()]),r(Re,$)}),a(L),r(I,L)};f(be,I=>{e(o).meetings&&e(o).meetings.length>0&&I(rt)})}var it=i(be,2);{var ot=I=>{var L=Lt(),Ae=i(s(L),2);ye(Ae,17,()=>e(o).contacts,Ie,(Re,g,ze)=>{const se=ke(()=>{var c;return(((c=e(o).meetings)==null?void 0:c.length)||0)+ze});var $=It();let re;$.__click=()=>J(e(g));var P=i(s($),2),q=s(P),je=s(q,!0);a(q);var ie=i(q,2),oe=s(ie);{var ne=c=>{var O=Ve();V(()=>C(O,e(g).role)),r(c,O)};f(oe,c=>{e(g).role&&c(ne)})}var Be=i(oe,2);{var De=c=>{var O=Tt(),Ne=A(O);{var nt=Ke=>{var vt=Ve("•");r(Ke,vt)};f(Ne,Ke=>{e(g).role&&Ke(nt)})}var lt=i(Ne,1,!0);V(()=>C(lt,e(g).organization)),r(c,O)};f(Be,c=>{e(g).organization&&c(De)})}a(ie),a(P);var Te=i(P,2);{var N=c=>{var O=Kt();r(c,O)};f(Te,c=>{e(p)===e(se)&&c(N)})}a($),V(()=>{re=F($,1,"result-item svelte-fl6vff",null,re,{selected:e(p)===e(se)}),C(je,e(g).name)}),r(Re,$)}),a(L),r(I,L)};f(it,I=>{e(o).contacts&&e(o).contacts.length>0&&I(ot)})}r(w,K)},ge=w=>{var K=qt();r(w,K)};f(Me,w=>{e(E).length>0?w(Ce):w(ge,!1)},!0)}r(W,G)};f(tt,W=>{!e(v)&&e(M).length>0?W(at):W(st,!1)},!0)}r(H,he)};f(Fe,H=>{e(v)&&e(E).length===0?H(Ze):H(et,!1)},!0)}r(h,_e)};f(T,h=>{e(j)?h(ae):h(Ye,!1)})}a(pe),a(me),a(te),a(x),St(D,()=>e(v),h=>l(v,h)),r(t,x)};f(fe,t=>{e(d)&&t(ue)})}r(R,Q),Pe(),k()}We(["click","keydown"]);var Ut=n(`<a class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50
           focus:px-4 focus:py-2 focus:bg-primary-600 focus:text-white focus:rounded-lg
           focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"> </a>`);function Vt(R,S){let u=Xe(S,"href",3,"#main-content"),m=Xe(S,"label",3,"본문으로 바로가기");var k=Ut(),z=s(k,!0);a(k),V(()=>{$t(k,"href",u()),C(z,m())}),r(R,k)}var Jt=n('<div class="fixed bottom-4 right-4 z-50 flex flex-col gap-2"></div>');function Qt(R,S){Le(S,!0);const u=()=>we(He,"$toast",m),[m,k]=qe();let z=ke(u);var d=Jt();ye(d,21,()=>e(z),v=>v.id,(v,o)=>{Mt(v,{get message(){return e(o).message},get type(){return e(o).type},get duration(){return e(o).duration},onclose:()=>He.dismiss(e(o).id)})}),a(d),r(R,d),Pe(),k()}var Xt=n('<meta name="description" content="Meeting management application"/>'),Ht=n('<nav class="bg-white shadow-sm border-b border-gray-200" aria-label="Main navigation"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between h-16"><div class="flex items-center"><a href="/" class="text-xl font-bold text-primary-600">MAX Meeting</a> <div class="hidden md:ml-10 md:flex md:space-x-8"><a href="/">대시보드</a> <a href="/meetings">회의</a> <a href="/contacts">연락처</a></div></div> <div class="flex items-center gap-4"><button type="button" class="hidden lg:flex items-center gap-2 px-3 py-1.5 bg-gray-100 border border-gray-200 rounded-lg text-sm text-gray-600 hover:bg-gray-200 transition-colors cursor-pointer"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg> <span>빠른 이동</span> <kbd class="px-1.5 py-0.5 bg-white border border-gray-300 rounded text-xs font-mono text-gray-500">⌘K</kbd></button> <button type="button" class="btn btn-secondary text-sm">로그아웃</button></div></div></div></nav>'),Wt=n('<!> <div class="min-h-screen bg-gray-50"><!> <main id="main-content" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8" aria-label="Main content"><!></main></div>',1),Gt=n('<div class="min-h-screen flex items-center justify-center"><div class="animate-pulse text-gray-500">로딩 중...</div></div>'),Yt=n("<!> <!> <!>",1);function ma(R,S){Le(S,!1);const u=()=>we(Et,"$page",k),m=()=>we(Ge,"$auth",k),[k,z]=qe(),d=Qe(),v=["/login"];let o=Qe(!1);Je(()=>u(),()=>{l(d,v.includes(u().url.pathname))}),Je(()=>(m(),e(d),e(o),le),()=>{!m().isAuthenticated&&!e(d)&&!e(o)&&(l(o,!0),le("/login").finally(()=>{l(o,!1)}))}),ht(),ft();var p=Yt();kt("12qhfyh",b=>{var y=Xt();gt(()=>{bt.title="MAX Meeting"}),r(b,y)});var j=A(p);Vt(j,{});var B=i(j,2);{var M=b=>{var y=Wt(),ce=A(y);{var Ee=E=>{Ot(E,{})};f(ce,E=>{m(),Y(()=>m().isAuthenticated)&&E(Ee)})}var Z=i(ce,2),J=s(Z);{var Se=E=>{var Q=Ht(),fe=s(Q),ue=s(fe),t=s(ue),x=i(s(t),2),_=s(x),te=i(_,2),me=i(te,2);a(x),a(t);var X=i(t,2),D=s(X);D.__click=()=>{window.dispatchEvent(new KeyboardEvent("keydown",{key:"k",metaKey:!0,ctrlKey:!0,bubbles:!0}))};var pe=i(D,2);pe.__click=()=>{dt(async()=>{const{logout:T}=await import("../chunks/VgTo3XoD.js").then(ae=>ae.l);return{logout:T}},__vite__mapDeps([0,1]),import.meta.url).then(({logout:T})=>T()),le("/login")},a(X),a(ue),a(fe),a(Q),V((T,ae)=>{F(_,1,`inline-flex items-center px-1 pt-1 text-sm font-medium ${u(),Y(()=>u().url.pathname==="/"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700")??""}`),F(te,1,`inline-flex items-center px-1 pt-1 text-sm font-medium ${T??""}`),F(me,1,`inline-flex items-center px-1 pt-1 text-sm font-medium ${ae??""}`)},[()=>(u(),Y(()=>u().url.pathname.startsWith("/meetings")?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700")),()=>(u(),Y(()=>u().url.pathname.startsWith("/contacts")?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"))]),r(E,Q)};f(J,E=>{m(),Y(()=>m().isAuthenticated)&&E(Se)})}var ee=i(J,2),de=s(ee);xt(de,S,"default",{}),a(ee),a(Z),r(b,y)},ve=b=>{var y=Gt();r(b,y)};f(B,b=>{m(),e(d),Y(()=>m().isAuthenticated||e(d))?b(M):b(ve,!1)})}var $e=i(B,2);Qt($e,{}),r(R,p),Pe(),z()}We(["click"]);export{ma as component};
