import"../chunks/CWj6FrbW.js";import{i as $}from"../chunks/SOPJwHBT.js";import{p as q,t as k,x as O,g as o,a as v,b as U,j as X,c as n,f as A,d as a,$ as D,r,s as i,m as x,h as E,n as H,q as J,k as N}from"../chunks/dEE0t6TH.js";import{i as L}from"../chunks/C3dn6ghA.js";import{h as R}from"../chunks/C-8mY6PU.js";import{r as V,P as F,b as G}from"../chunks/VgTo3XoD.js";import{b as K}from"../chunks/AN34arei.js";import{g as Q}from"../chunks/DzGFvkG0.js";var W=A('<div class="rounded-md bg-red-50 p-4" role="alert"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><p class="text-sm font-medium text-red-800"> </p></div></div></div>'),Y=N('<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> 로그인 중...',1),Z=A('<div class="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"><div class="max-w-md w-full space-y-8"><div><h1 class="text-center text-3xl font-extrabold text-gray-900">MAX Meeting</h1> <p class="mt-2 text-center text-sm text-gray-600">비밀번호를 입력하세요</p></div> <form class="mt-8 space-y-6"><!> <div><label for="password" class="sr-only">비밀번호</label> <input id="password" name="password" type="password" required class="input text-lg py-3" placeholder="비밀번호" autocomplete="current-password"/></div> <div><button type="submit" class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div></form></div></div>');function ne(M,j){q(j,!1);const C=F;let c=x(""),l=x(""),d=x(!1);async function S(){var e;i(l,""),i(d,!0);try{const t=await fetch(`${C}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:o(c)})});if(!t.ok){const p=await t.json();i(l,((e=p.error)==null?void 0:e.message)||"로그인 실패");return}const s=await t.json();localStorage.setItem("accessToken",s.access_token),localStorage.setItem("refreshToken",s.refresh_token),G.set({isAuthenticated:!0,accessToken:s.access_token,refreshToken:s.refresh_token}),Q("/")}catch(t){i(l,"네트워크 오류. 다시 시도하세요."),console.error("Login error:",t)}finally{i(d,!1)}}$();var f=Z();R("1x05zx6",e=>{X(()=>{D.title="로그인 - MAX Meeting"})});var h=a(f),m=n(a(h),2),_=a(m);{var T=e=>{var t=W(),s=a(t),p=n(a(s),2),w=a(p),B=a(w,!0);r(w),r(p),r(s),r(t),k(()=>E(B,o(l))),v(e,t)};L(_,e=>{o(l)&&e(T)})}var u=n(_,2),b=n(a(u),2);V(b),r(u);var y=n(u,2),g=a(y),z=a(g);{var I=e=>{var t=Y();H(),v(e,t)},P=e=>{var t=J("로그인");v(e,t)};L(z,e=>{o(d)?e(I):e(P,!1)})}r(g),r(y),r(m),r(h),r(f),k(()=>g.disabled=o(d)||!o(c)),O("submit",m,e=>{e.preventDefault(),S()}),K(b,()=>o(c),e=>i(c,e)),v(M,f),U()}export{ne as component};
