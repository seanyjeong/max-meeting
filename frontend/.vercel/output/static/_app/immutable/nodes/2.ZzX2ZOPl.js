import"../chunks/CWj6FrbW.js";import{i as it}from"../chunks/SOPJwHBT.js";import{p as lt,o as ot,a as v,b as nt,f as u,s as P,c as o,d as e,r as t,m as R,e as dt,g as s,t as q,h as _}from"../chunks/dEE0t6TH.js";import{i as j}from"../chunks/C3dn6ghA.js";import{e as I}from"../chunks/BIuLnvEe.js";import{s as z,a as J}from"../chunks/VgTo3XoD.js";import{s as ct,a as vt}from"../chunks/IoHDDGUh.js";import{i as A,m as ut}from"../chunks/BEFWedIY.js";import{a as pt}from"../chunks/nFeSIjG2.js";var ft=u('<div class="flex justify-center py-12"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"></div></div>'),mt=u('<section class="card border-l-4 border-yellow-500" aria-labelledby="in-progress-title"><h2 id="in-progress-title" class="text-lg font-semibold text-gray-900 mb-4">회의 계속하기</h2> <div class="flex items-center justify-between"><div><h3 class="font-medium text-gray-900"> </h3> <p class="text-sm text-gray-500"> </p></div> <a class="btn btn-primary">계속하기</a></div></section>'),gt=u('<p class="text-gray-500 text-sm">예정된 회의가 없습니다</p>'),_t=u('<li class="py-4 first:pt-0 last:pb-0"><a class="block hover:bg-gray-50 -mx-4 px-4 py-2 rounded"><div class="flex items-center justify-between"><div><h3 class="font-medium text-gray-900"> </h3> <p class="text-sm text-gray-500"> </p></div> <span> </span></div></a></li>'),xt=u('<ul class="divide-y divide-gray-200"></ul>'),yt=u('<p class="text-gray-500 text-sm">완료된 회의가 없습니다</p>'),ht=u('<li class="py-4 first:pt-0 last:pb-0"><a class="block hover:bg-gray-50 -mx-4 px-4 py-2 rounded"><div class="flex items-center justify-between"><div><h3 class="font-medium text-gray-900"> </h3> <p class="text-sm text-gray-500"> </p></div> <span> </span></div></a></li>'),bt=u('<ul class="divide-y divide-gray-200"></ul>'),wt=u('<!> <section class="card" aria-labelledby="upcoming-title"><h2 id="upcoming-title" class="text-lg font-semibold text-gray-900 mb-4">예정된 회의</h2> <!></section> <section class="card" aria-labelledby="recent-title"><div class="flex justify-between items-center mb-4"><h2 id="recent-title" class="text-lg font-semibold text-gray-900">최근 회의</h2> <a href="/meetings" class="text-sm text-primary-600 hover:text-primary-700">전체 보기</a></div> <!></section>',1),jt=u('<div class="space-y-8"><div class="flex justify-between items-center"><h1 class="text-2xl font-bold text-gray-900">대시보드</h1> <a href="/meetings/new" class="btn btn-primary">+ 새 회의</a></div> <!></div>');function Kt(N,O){lt(O,!1);const Q=()=>vt(A,"$isLoading",T),[T,U]=ct();let D=R([]),L=R([]),h=R(null);ot(async()=>{A.set(!0);try{const a=await pt.get("/meetings",{limit:10,offset:0});ut.set(a.data);const y=new Date;P(D,a.data.filter(d=>d.status==="completed").slice(0,5)),P(L,a.data.filter(d=>d.status==="draft"&&d.scheduled_at&&new Date(d.scheduled_at)>y).slice(0,3)),P(h,a.data.find(d=>d.status==="in_progress")||null)}catch(a){console.error("Failed to load meetings:",a)}finally{A.set(!1)}});function $(a){return a?new Date(a).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function E(a){switch(a){case"draft":return"bg-gray-100 text-gray-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}function G(a){switch(a){case"draft":return"작성 중";case"in_progress":return"진행 중";case"completed":return"완료";default:return a}}it();var k=jt(),V=o(e(k),2);{var W=a=>{var y=ft();v(a,y)},X=a=>{var y=wt(),d=dt(y);{var Y=r=>{var i=mt(),c=o(e(i),2),l=e(c),n=e(l),p=e(n,!0);t(n);var g=o(n,2),f=e(g,!0);t(g),t(l);var m=o(l,2);t(c),t(i),q(b=>{_(p,s(h).title),_(f,b),z(m,"href",`/meetings/${s(h).id??""}`)},[()=>$(s(h).scheduled_at)]),v(r,i)};j(d,r=>{s(h)&&r(Y)})}var M=o(d,2),Z=o(e(M),2);{var tt=r=>{var i=gt();v(r,i)},et=r=>{var i=xt();I(i,5,()=>s(L),c=>c.id,(c,l)=>{var n=_t(),p=e(n),g=e(p),f=e(g),m=e(f),b=e(m,!0);t(m);var w=o(m,2),S=e(w,!0);t(w),t(f);var x=o(f,2),B=e(x,!0);t(x),t(g),t(p),t(n),q((C,F,K)=>{z(p,"href",`/meetings/${s(l).id??""}`),_(b,s(l).title),_(S,C),J(x,1,`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F??""}`),_(B,K)},[()=>$(s(l).scheduled_at),()=>E(s(l).status),()=>G(s(l).status)]),v(c,n)}),t(i),v(r,i)};j(Z,r=>{s(L).length===0?r(tt):r(et,!1)})}t(M);var H=o(M,2),at=o(e(H),2);{var st=r=>{var i=yt();v(r,i)},rt=r=>{var i=bt();I(i,5,()=>s(D),c=>c.id,(c,l)=>{var n=ht(),p=e(n),g=e(p),f=e(g),m=e(f),b=e(m,!0);t(m);var w=o(m,2),S=e(w,!0);t(w),t(f);var x=o(f,2),B=e(x,!0);t(x),t(g),t(p),t(n),q((C,F,K)=>{z(p,"href",`/meetings/${s(l).id??""}`),_(b,s(l).title),_(S,C),J(x,1,`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F??""}`),_(B,K)},[()=>$(s(l).scheduled_at),()=>E(s(l).status),()=>G(s(l).status)]),v(c,n)}),t(i),v(r,i)};j(at,r=>{s(D).length===0?r(st):r(rt,!1)})}t(H),v(a,y)};j(V,a=>{Q()?a(W):a(X,!1)})}t(k),v(N,k),nt(),U()}export{Kt as component};
