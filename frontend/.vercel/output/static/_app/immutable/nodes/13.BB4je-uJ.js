import"../chunks/CWj6FrbW.js";import{i as ct}from"../chunks/SOPJwHBT.js";import{i as pt,p as vt,o as ft,a as c,b as ut,j as mt,d as s,f as x,s as A,g as e,$ as yt,c as o,n as N,r as a,m as B,C as xt,e as O,t as X,h as y,Z}from"../chunks/dEE0t6TH.js";import{i as F}from"../chunks/C3dn6ghA.js";import{e as gt}from"../chunks/BIuLnvEe.js";import{h as _t}from"../chunks/C-8mY6PU.js";import{a as ht}from"../chunks/VgTo3XoD.js";import"../chunks/DzGFvkG0.js";import{a as Q}from"../chunks/nFeSIjG2.js";import{A as bt}from"../chunks/BhhlvMsI.js";async function wt(r){const n={};return r&&(r.limit!==void 0&&(n.limit=r.limit),r.offset!==void 0&&(n.offset=r.offset),r.status&&(n.status=r.status),r.type_id&&(n.type_id=r.type_id),r.from&&(n.from=r.from),r.to&&(n.to=r.to),n.deleted_only="true"),Q.get("/meetings",n)}async function kt(r){return wt({...r})}async function Mt(r){return(await Q.post(`/meetings/${r}/restore`)).data}var jt=x('<div class="flex justify-center py-12"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"></div></div>'),Dt=x('<div class="card text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900">삭제된 회의가 없습니다</h3> <p class="mt-1 text-sm text-gray-500">삭제된 회의가 여기에 표시됩니다.</p> <div class="mt-6"><a href="/meetings" class="btn btn-primary">회의 목록으로</a></div></div>'),At=x('<p class="text-xs text-gray-500"> </p>'),Ct=x('<tr class="hover:bg-gray-50"><td class="px-6 py-4"><div class="text-sm font-medium text-gray-900"> </div> <!></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4 whitespace-nowrap"><span> </span></td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><button type="button" class="text-primary-600 hover:text-primary-900 font-medium">복구</button></td></tr>'),Lt=x('<div class="flex items-center justify-between"><p class="text-sm text-gray-700">전체 <span class="font-medium"> </span>개 중 <span class="font-medium"> </span>부터 <span class="font-medium"> </span>까지 표시</p> <div class="flex space-x-2"><button type="button" class="btn btn-secondary disabled:opacity-50">이전</button> <button type="button" class="btn btn-secondary disabled:opacity-50">다음</button></div></div>'),St=x('<div class="card overflow-hidden p-0"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">제목</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">일자</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">상태</th><th scope="col" class="relative px-6 py-3"><span class="sr-only">작업</span></th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div> <!>',1),Bt=x('<div class="space-y-6"><div class="flex justify-between items-center"><h1 class="text-2xl font-bold text-gray-900">삭제된 회의</h1> <a href="/meetings" class="btn btn-secondary"><!> 회의 목록으로</a></div> <!></div>');function Zt(r,n){vt(n,!1);let w=B([]),P=B(!1),p=B(0),g=B(0);const _=20;ft(()=>{R()});async function R(){var t;A(P,!0);try{const i=await kt({limit:_,offset:e(p)*_});A(w,i.data),A(g,((t=i.meta)==null?void 0:t.total)||0)}catch(i){console.error("Failed to load deleted meetings:",i)}finally{A(P,!1)}}async function T(t){if(confirm("이 회의를 복구하시겠습니까?"))try{await Mt(t),A(w,e(w).filter(i=>i.id!==t)),Z(g,-1)}catch(i){console.error("Failed to restore meeting:",i),alert("회의 복구에 실패했습니다.")}}function U(t){return t?new Date(t).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}):"-"}function W(t){switch(t){case"draft":return"bg-gray-100 text-gray-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}function Y(t){switch(t){case"draft":return"작성 중";case"in_progress":return"진행 중";case"completed":return"완료";default:return t}}ct();var $=Bt();_t("tkwcrl",t=>{mt(()=>{yt.title="삭제된 회의 - MAX Meeting"})});var q=s($),E=o(s(q),2),tt=s(E);bt(tt,{class:"w-4 h-4 inline mr-1"}),N(),a(E),a(q);var et=o(q,2);{var at=t=>{var i=jt();c(t,i)},rt=t=>{var i=xt(),st=O(i);{var it=h=>{var C=Dt();c(h,C)},ot=h=>{var C=St(),z=O(C),G=s(z),I=o(s(G));gt(I,5,()=>e(w),v=>v.id,(v,l)=>{var f=Ct(),u=s(f),k=s(u),M=s(k,!0);a(k);var H=o(k,2);{var L=D=>{var d=At(),V=s(d,!0);a(d),X(()=>y(V,e(l).meeting_type.name)),c(D,d)};F(H,D=>{var d;(d=e(l).meeting_type)!=null&&d.name&&D(L)})}a(u);var j=o(u),S=s(j,!0);a(j);var m=o(j),b=s(m),K=s(b,!0);a(b),a(m);var J=o(m),dt=s(J);dt.__click=()=>T(e(l).id),a(J),a(f),X((D,d,V)=>{y(M,e(l).title),y(S,D),ht(b,1,`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d??""}`),y(K,V)},[()=>U(e(l).scheduled_at),()=>W(e(l).status),()=>Y(e(l).status)]),c(v,f)}),a(I),a(G),a(z);var nt=o(z,2);{var lt=v=>{var l=Lt(),f=s(l),u=o(s(f)),k=s(u,!0);a(u);var M=o(u,2),H=s(M,!0);a(M);var L=o(M,2),j=s(L,!0);a(L),N(),a(f);var S=o(f,2),m=s(S);m.__click=()=>{Z(p,-1),R()};var b=o(m,2);b.__click=()=>{Z(p),R()},a(S),a(l),X(K=>{y(k,e(g)),y(H,e(p)*_+1),y(j,K),m.disabled=e(p)===0,b.disabled=(e(p)+1)*_>=e(g)},[()=>Math.min((e(p)+1)*_,e(g))]),c(v,l)};F(nt,v=>{e(g)>_&&v(lt)})}c(h,C)};F(st,h=>{e(w).length===0?h(it):h(ot,!1)},!0)}c(t,i)};F(et,t=>{e(P)?t(at):t(rt,!1)})}a($),c(r,$),ut()}pt(["click"]);export{Zt as component};
