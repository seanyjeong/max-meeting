import"../chunks/CWj6FrbW.js";import{i as V,p as W,u as B,l as C,a as m,b as Y,j as Z,g as v,q as I,x as ee,d as l,c as o,f as $,$ as te,r as i,n as L,s as _,t as ae,h as re}from"../chunks/dEE0t6TH.js";import{i as oe}from"../chunks/C3dn6ghA.js";import{h as ne}from"../chunks/C-8mY6PU.js";import{s as se,a as P}from"../chunks/IoHDDGUh.js";import{g as S}from"../chunks/DzGFvkG0.js";import{b as le,a as ie,c as q}from"../chunks/BBLQcy37.js";import{B as de}from"../chunks/1ZOD2yLP.js";import{I as u,B as D}from"../chunks/DKX1Bax4.js";import{C as ce}from"../chunks/B1arvRME.js";import"../chunks/BNjbk8Ua.js";var me=$('<div class="bg-red-50 border border-red-200 rounded-lg p-4 text-red-700" role="alert"><p> </p> <button type="button" class="text-sm underline mt-2">닫기</button></div>'),ue=$('<form class="space-y-6"><!> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><!> <!></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><!> <!></div> <div class="flex justify-end gap-3 pt-4 border-t"><!> <!></div></form>'),pe=$('<div class="space-y-6"><!> <div class="flex items-center justify-between"><h1 class="text-2xl font-bold text-gray-900">새 연락처</h1></div> <!> <!></div>');function we(M,A){W(A,!0);const x=()=>P(ie,"$contactsError",y),H=()=>P(le,"$contactsLoading",y),[y,O]=se();let e=B({name:"",role:"",organization:"",phone:"",email:""}),p=C(B({})),f=C(!1);const X=[{label:"Home",href:"/"},{label:"연락처",href:"/contacts"},{label:"새 연락처",href:"/contacts/new"}];function F(){const t={};return e.name.trim()||(t.name="이름은 필수입니다"),e.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&(t.email="유효한 이메일 주소를 입력하세요"),e.phone&&!/^[\d\-+\s()]+$/.test(e.phone)&&(t.phone="유효한 전화번호를 입력하세요"),_(p,t,!0),Object.keys(t).length===0}async function G(t){var r,s,n,c;if(t.preventDefault(),!F())return;_(f,!0);const d=await q.createContact({name:e.name.trim(),role:((r=e.role)==null?void 0:r.trim())||void 0,organization:((s=e.organization)==null?void 0:s.trim())||void 0,phone:((n=e.phone)==null?void 0:n.trim())||void 0,email:((c=e.email)==null?void 0:c.trim())||void 0});_(f,!1),d&&S("/contacts")}function J(){S("/contacts")}var g=pe();ne("10oiw1t",t=>{Z(()=>{te.title="새 연락처 - MAX Meeting"})});var z=l(g);de(z,{get items(){return X}});var k=o(z,4);{var K=t=>{var d=me(),r=l(d),s=l(r,!0);i(r);var n=o(r,2);n.__click=()=>q.clearError(),i(d),ae(()=>re(s,x())),m(t,d)};oe(k,t=>{x()&&t(K)})}var N=o(k,2);ce(N,{children:(t,d)=>{var r=ue(),s=l(r);u(s,{label:"이름",name:"name",required:!0,get error(){return v(p).name},placeholder:"홍길동",get value(){return e.name},set value(a){e.name=a}});var n=o(s,2),c=l(n);u(c,{label:"조직/회사",name:"organization",placeholder:"회사명",get value(){return e.organization},set value(a){e.organization=a}});var Q=o(c,2);u(Q,{label:"직책/역할",name:"role",placeholder:"대리",get value(){return e.role},set value(a){e.role=a}}),i(n);var h=o(n,2),w=l(h);u(w,{label:"전화번호",name:"phone",type:"tel",get error(){return v(p).phone},placeholder:"010-1234-5678",get value(){return e.phone},set value(a){e.phone=a}});var R=o(w,2);u(R,{label:"이메일",name:"email",type:"email",get error(){return v(p).email},placeholder:"example@email.com",get value(){return e.email},set value(a){e.email=a}}),i(h);var E=o(h,2),j=l(E);D(j,{variant:"secondary",type:"button",onclick:J,children:(a,U)=>{L();var b=I("취소");m(a,b)},$$slots:{default:!0}});var T=o(j,2);D(T,{variant:"primary",type:"submit",get loading(){return v(f)},get disabled(){return H()},children:(a,U)=>{L();var b=I("저장");m(a,b)},$$slots:{default:!0}}),i(E),i(r),ee("submit",r,G),m(t,r)},$$slots:{default:!0}}),i(g),m(M,g),Y(),O()}V(["click"]);export{we as component};
